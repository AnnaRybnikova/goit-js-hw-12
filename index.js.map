{"version":3,"file":"index.js","sources":["../src/img/error.svg","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='none'%3e%3cg%20fill='%23fff'%20clip-path='url(%23a)'%3e%3cpath%20d='M6.81.219A.75.75%200%200%201%207.34%200h9.32a.75.75%200%200%201%20.53.219l6.591%206.591a.75.75%200%200%201%20.219.53v9.32a.75.75%200%200%201-.219.53l-6.591%206.591a.75.75%200%200%201-.53.219H7.34a.75.75%200%200%201-.53-.219L.219%2017.19A.75.75%200%200%201%200%2016.66V7.34a.75.75%200%200%201%20.219-.53L6.81.219ZM7.65%201.5%201.5%207.65v8.7l6.15%206.15h8.7l6.15-6.15v-8.7L16.35%201.5h-8.7Z'/%3e%3cpath%20d='M6.969%206.97a.75.75%200%200%201%201.062%200L12%2010.94l3.969-3.97a.75.75%200%201%201%201.062%201.061l-3.97%203.97%203.97%203.968a.753.753%200%200%201%200%201.062.749.749%200%200%201-1.062%200L12%2013.061l-3.969%203.97a.75.75%200%200%201-1.225-.243.751.751%200%200%201%20.163-.819L10.939%2012%206.97%208.031a.75.75%200%200%201%200-1.062Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M0%200h24v24H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e\"","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport errorIconUrl from \"../img/error.svg\";\n\nconst galleryEl = document.querySelector(\".gallery\");\n\nexport const clearGallery = () => {\n    galleryEl.innerHTML = '';\n}\n\nexport const renderImages = images => {\n  const markup = images.hits\n    .map((image) => {\n        return `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${image.webformatURL}\"\n                    data-source=\"${image.largeImageURL}\"\n                    alt=\"${image.tags}\"\n                />\n            </a>\n            <div class=\"gallery-info\">\n                <p class=\"gallery-info-item\">\n                    <span class=\"gallery-info-span\">Likes</span>\n                    ${image.likes}\n                </p>\n                <p class=\"gallery-info-item\">\n                    <span class=\"gallery-info-span\">Views</span>\n                    ${image.views}\n                </p>\n                <p class=\"gallery-info-item\">\n                    <span class=\"gallery-info-span\">Comments</span>\n                    ${image.comments}\n                </p>\n                <p class=\"gallery-info-item\">\n                    <span class=\"gallery-info-span\">Downloads</span>\n                    ${image.downloads}\n                </p>\n            </div>\n        </li>`;\n    })\n        .join(\"\");\n    \n    galleryEl.insertAdjacentHTML(\"beforeend\", markup);\n}\n\nexport const showLoader = () => {\n    galleryEl.insertAdjacentHTML(\"beforeBegin\", `<span class=\"loader\"></span>`);\n}\n\nexport const removeLoader = () => {\n    const loaderEl = document.querySelector('.loader');\n    loaderEl.remove();\n}\n\nexport const showErrorNotification = errorMessage => iziToast.error({\n    title: '',\n    message: errorMessage,\n    class: 'custom-noty error',\n    position: 'topRight',\n    iconUrl: errorIconUrl,\n});","const PERSONAL_KEY = \"46326660-f347cca7b0a8e4257f7060487\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nconst searchParams = (imageQueryString) => new URLSearchParams({\n    key: PERSONAL_KEY,\n    q: imageQueryString,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n});\n\nexport const fetchImages = imageQueryString => {\n    return fetch(`${BASE_URL}?${searchParams(imageQueryString)}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { renderImages, showErrorNotification, showLoader, removeLoader, clearGallery } from \"./js/render-functions\";\nimport { fetchImages } from \"./js/pixabay-api\";\n\nconst formEl = document.querySelector(\".form\");\nlet gallery = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n});\n\ngallery.on('show.simplelightbox');\n\nformEl.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n\n    clearGallery();\n    showLoader();\n\n    const inputEl = document.querySelector(\".search-input\");\n    const inputValue = inputEl.value.trim();\n    inputEl.value = '';\n\n    if (!inputValue) {\n        showErrorNotification(\"Input can not be empty!\");\n        return;\n    }\n\n    fetchImages(inputValue)\n        .then(images => {\n            if (images.hits < 1) {\n                showErrorNotification(\"Sorry, there are no images matching your search query. Please try again!\");\n                return;\n            }\n\n            renderImages(images);\n            gallery.refresh();\n        })\n        .catch(error => showErrorNotification(`Error fetching images: ${error.message}`))\n        .finally(() => removeLoader())\n});"],"names":["errorIconUrl","galleryEl","clearGallery","renderImages","images","markup","image","showLoader","removeLoader","showErrorNotification","errorMessage","iziToast","PERSONAL_KEY","BASE_URL","searchParams","imageQueryString","fetchImages","response","formEl","gallery","SimpleLightbox","event","inputEl","inputValue","error"],"mappings":"6vBAAA,MAAeA,EAAA,ohCCKTC,EAAY,SAAS,cAAc,UAAU,EAEtCC,EAAe,IAAM,CAC9BD,EAAU,UAAY,EAC1B,EAEaE,EAAeC,GAAU,CACpC,MAAMC,EAASD,EAAO,KACnB,IAAKE,GACK;AAAA;AAAA,4CAE6BA,EAAM,aAAa;AAAA;AAAA;AAAA,2BAGpCA,EAAM,YAAY;AAAA,mCACVA,EAAM,aAAa;AAAA,2BAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAMfA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,cAIhC,EACI,KAAK,EAAE,EAEZL,EAAU,mBAAmB,YAAaI,CAAM,CACpD,EAEaE,EAAa,IAAM,CAC5BN,EAAU,mBAAmB,cAAe,8BAA8B,CAC9E,EAEaO,EAAe,IAAM,CACb,SAAS,cAAc,SAAS,EACxC,OAAM,CACnB,EAEaC,EAAwBC,GAAgBC,EAAS,MAAM,CAChE,MAAO,GACP,QAASD,EACT,MAAO,oBACP,SAAU,WACV,QAASV,CACb,CAAC,EChEKY,EAAe,qCACfC,EAAW,2BAEXC,EAAgBC,GAAqB,IAAI,gBAAgB,CAC3D,IAAKH,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAC,EAEYC,EAAcD,GAChB,MAAM,GAAGF,CAAQ,IAAIC,EAAaC,CAAgB,CAAC,EAAE,EACvD,KAAME,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,ECZHC,EAAS,SAAS,cAAc,OAAO,EAC7C,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC3C,SAAU,GACV,aAAc,KAClB,CAAC,EAEDD,EAAQ,GAAG,qBAAqB,EAEhCD,EAAO,iBAAiB,SAAWG,GAAU,CACzCA,EAAM,eAAc,EAEpBnB,IACAK,IAEA,MAAMe,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAaD,EAAQ,MAAM,KAAI,EAGrC,GAFAA,EAAQ,MAAQ,GAEZ,CAACC,EAAY,CACbd,EAAsB,yBAAyB,EAC/C,MACH,CAEDO,EAAYO,CAAU,EACjB,KAAKnB,GAAU,CACZ,GAAIA,EAAO,KAAO,EAAG,CACjBK,EAAsB,0EAA0E,EAChG,MACH,CAEDN,EAAaC,CAAM,EACnBe,EAAQ,QAAO,CAC3B,CAAS,EACA,MAAMK,GAASf,EAAsB,0BAA0Be,EAAM,OAAO,EAAE,CAAC,EAC/E,QAAQ,IAAMhB,GAAc,CACrC,CAAC"}